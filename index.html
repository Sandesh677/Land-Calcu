<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nepal Land price Calculator & Unit Converter |</title>
<style>
  :root {
    --bg: #f4f7fb;
    --card: #ffffff;
    --accent: #2b7cff;
    --muted: #6b7280;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html, body {
    height: 100%;
    margin: 0;
    background: linear-gradient(180deg, #eef6ff 0%, var(--bg) 100%);
    color: #111827;
  }
  .container {
    max-width: 1100px;
    margin: 28px auto;
    padding: 20px;
  }
  header {
    display: flex;
    gap: 16px;
    align-items: center;
    margin-bottom: 20px;
  }
  .logo {
    width: 64px; height: 64px; border-radius: 12px;
    display: flex; align-items: center; justify-content: center;
    background: linear-gradient(135deg, var(--accent), #66a3ff);
    box-shadow: 0 6px 18px rgba(43,124,255,0.18);
    color: white; font-weight: 700; font-size: 20px;
  }
  h1 { font-size: 20px; margin: 0 }
  p.lead { margin: 0; color: var(--muted); font-size: 14px }
  .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(340px,1fr)); gap: 18px; margin-top: 18px; }
  .card { background: var(--card); border-radius: 12px; padding: 18px; box-shadow: 0 6px 20px rgba(15,23,42,0.06); }
  .card h2 { margin: 0 0 8px 0; font-size: 16px }
  label { font-size: 13px; color: var(--muted) }
  input[type="number"], select {
    width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #e6e9ef; font-size: 14px;
    outline: none; box-sizing: border-box; margin-top: 6px;
  }
  .unit-inputs input { width: 70px; }
  .btn {
    background: var(--accent); color: white; border: none; padding: 10px 14px; border-radius: 10px;
    cursor: pointer; font-weight: 600; box-shadow: 0 6px 18px rgba(43,124,255,0.16); margin-right: 6px;
  }
  .btn.ghost { background: transparent; color: var(--accent); border: 1px solid rgba(43,124,255,0.12); box-shadow: none; }
  .result { margin-top: 12px; padding: 12px; border-radius: 10px; background: #fff; border: 1px solid #eef3ff }
  .result .value { font-weight: 700; font-size: 18px }
  .muted { color: var(--muted) }
  .copy-btn { background: #0f172a; color: white; padding: 8px 10px; border-radius: 8px; border: none; cursor: pointer }
</style>
</head>
<body>
<div class="container">
  <header>
    <div class="logo">LR</div>
    <div>
      <h1>Nepal Land Calculator & Unit Converter</h1>
      <p class="lead">Calculate • Convert • Add/Subtract • Divide (Ropani · Aana · Daam · Paisa)</p>
    </div>
  </header>

  <div class="grid">

    <!-- PRICE CALCULATOR -->
    <section class="card">
      <h2>Land Price Calculator</h2>
      <label>Price per Unit:</label>
      <input id="priceRate" type="number" placeholder="e.g. 44000">
      <select id="priceUnit">
        <option value="ropani">Ropani</option>
        <option value="aana">Aana</option>
        <option value="daam">Daam</option>
        <option value="paisa">Paisa</option>
      </select>

      <div class="unit-inputs">
        <input id="pc_ropani" type="number" placeholder="Ropani">
        <input id="pc_aana" type="number" placeholder="Aana" max="15">
        <input id="pc_daam" type="number" placeholder="Daam" max="3">
        <input id="pc_paisa" type="number" placeholder="Paisa" max="3">
      </div><br>
      <button class="btn" onclick="calculatePrice()">Calculate</button>
      <button class="btn ghost" onclick="resetPrice()">Reset</button>
      <button class="copy-btn" onclick="copyPrice()">Copy</button>
      <div id="priceResult" class="result" style="display:none">
        <div class="muted">Total Price:</div>
        <div class="value" id="priceValue">—</div>
        <div class="muted">Decimal Ropani:</div>
        <div id="priceRopani">—</div>
      </div>
    </section>

    <!-- ADD/SUBTRACT -->
    <section class="card">
      <h2>Land Add / Subtract</h2>
      <div id="landRows">
        <div class="unit-inputs land-row">
          <input type="number" placeholder="Ropani">
          <input type="number" placeholder="Aana">
          <input type="number" placeholder="Daam">
          <input type="number" placeholder="Paisa">
        </div>
        <div class="unit-inputs land-row">
          <input type="number" placeholder="Ropani">
          <input type="number" placeholder="Aana">
          <input type="number" placeholder="Daam">
          <input type="number" placeholder="Paisa">
        </div>
      </div>
      <div style="margin-top:8px;">
        <button class="btn" onclick="addRow()">+ Add More</button>
        <button class="btn ghost" onclick="removeRow()">− Remove</button>
      </div>
      <select id="operation">
        <option value="add">Add</option>
        <option value="sub">Subtract</option>
      </select>
      <button class="btn" onclick="landOperation()">Compute</button>
      <button class="btn ghost" onclick="resetLand()">Reset</button>
      <div id="landResult" class="result" style="display:none">
        <div class="muted">Result:</div>
        <div class="value" id="landValue">—</div>
        <div class="muted">Decimal Ropani:</div>
        <div id="landDecimal">—</div>
      </div>
    </section>
  </div>
</div>

<script>
/* --- Land Calculator Logic --- */
const AANA_PER_ROPANI=16, DAAM_PER_AANA=4, PAISA_PER_DAAM=4;
const PAISA_PER_ROPANI=AANA_PER_ROPANI*DAAM_PER_AANA*PAISA_PER_DAAM;
function toPaisa(r,a,d,p){return (r||0)*PAISA_PER_ROPANI+(a||0)*DAAM_PER_AANA*PAISA_PER_DAAM+(d||0)*PAISA_PER_DAAM+(p||0);}
function toRADP(paisa){const sign=paisa<0?-1:1;let p=Math.abs(paisa);const r=Math.floor(p/PAISA_PER_ROPANI);p%=PAISA_PER_ROPANI;const a=Math.floor(p/(DAAM_PER_AANA*PAISA_PER_DAAM));p%=(DAAM_PER_AANA*PAISA_PER_DAAM);const d=Math.floor(p/PAISA_PER_DAAM);const ps=p%PAISA_PER_DAAM;return{sign,r,a,d,p:ps};}
function formatRADP(o){return`${o.sign<0?'-':''}${o.r} Ropani ${o.a} Aana ${o.d} Daam ${o.p} Paisa`;}

/* --- Updated Price Calculation --- */
function calculatePrice(){
  const rate=parseFloat(priceRate.value);
  const unit=priceUnit.value;
  if(!rate){alert("Enter price per unit.");return;}
  const paisa=toPaisa(+pc_ropani.value,+pc_aana.value,+pc_daam.value,+pc_paisa.value);
  const ropaniDec=paisa/PAISA_PER_ROPANI;

  let unitToRopani=1;
  if(unit==="aana")unitToRopani=1/16;
  else if(unit==="daam")unitToRopani=1/256;
  else if(unit==="paisa")unitToRopani=1/64;

  const total=rate*(ropaniDec/unitToRopani);
  priceValue.textContent="₨ "+total.toLocaleString(undefined,{maximumFractionDigits:2});
  priceRopani.textContent=ropaniDec.toFixed(6);
  priceResult.style.display='block';
}
function resetPrice(){['priceRate','pc_ropani','pc_aana','pc_daam','pc_paisa'].forEach(id=>document.getElementById(id)?.value='');priceResult.style.display='none';}
function copyPrice(){if(priceResult.style.display==='none'){alert("No result to copy");return;}navigator.clipboard.writeText("Price: "+priceValue.textContent+" | Ropani: "+priceRopani.textContent);alert("Copied!");}

/* --- Updated Add/Subtract with Dynamic Rows --- */
function addRow(){
  const container=document.getElementById("landRows");
  const div=document.createElement("div");
  div.className="unit-inputs land-row";
  div.innerHTML=`<input type="number" placeholder="Ropani">
                 <input type="number" placeholder="Aana">
                 <input type="number" placeholder="Daam">
                 <input type="number" placeholder="Paisa">`;
  container.appendChild(div);
}
function removeRow(){
  const rows=document.querySelectorAll(".land-row");
  if(rows.length>2)rows[rows.length-1].remove();
}
function landOperation(){
  const op=document.getElementById("operation").value;
  const rows=document.querySelectorAll(".land-row");
  let resultPaisa=op==="add"?0:toPaisaFromRow(rows[0]);
  if(op==="add"){
    rows.forEach(r=>{resultPaisa+=toPaisaFromRow(r);});
  } else {
    for(let i=1;i<rows.length;i++){resultPaisa-=toPaisaFromRow(rows[i]);}
  }
  const radp=toRADP(resultPaisa);
  landValue.textContent=formatRADP(radp);
  landDecimal.textContent=(resultPaisa/PAISA_PER_ROPANI).toFixed(6);
  landResult.style.display='block';
}
function toPaisaFromRow(row){
  const inputs=row.querySelectorAll("input");
  return toPaisa(+inputs[0].value,+inputs[1].value,+inputs[2].value,+inputs[3].value);
}
function resetLand(){
  document.getElementById("landRows").innerHTML=`
    <div class="unit-inputs land-row">
      <input type="number" placeholder="Ropani">
      <input type="number" placeholder="Aana">
      <input type="number" placeholder="Daam">
      <input type="number" placeholder="Paisa">
    </div>
    <div class="unit-inputs land-row">
      <input type="number" placeholder="Ropani">
      <input type="number" placeholder="Aana">
      <input type="number" placeholder="Daam">
      <input type="number" placeholder="Paisa">
    </div>`;
  landResult.style.display='none';
}
</script>
</body>
</html>

